<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="消息中间件 #  消息队列中间件的对比 #   性能  Kafka：几十万级别。通过批量和异步获得高吞吐量，时延也较高。如果每秒数据量没那么多情况下时延会很高，不太适合在线业务场景。在大数据和流计算方面生态优秀。允许n-1个节点失败。 RocketMQ：几十万级别。时延低。 RabbitMQ：十万级别。消息堆积会引起性能下降。   基本架构  Kafka：Producer、Consumer、Consumer Group、Broker、一个Topic多个Partition RocketMQ：Producer、Consumer、Consumer Group、一个Topic多个Queue RabbitMQ：Exchange、Channel、Producer、Consumer、Queue   推拉模式  Kafka：基于长轮询的拉模式。 RocketMQ：支持推拉，但拉模式也是基于长轮询。 RabbitMQ：支持推拉模式。   消费者数量  Kafka：线程数量和partition数量保持一致，一个partition只能被同组的一个消费者消费。 RocketMQ：同Kafka。   消费语义  Kafka：最多一次，最少一次（推荐），正好一次。正好一次是通过transaction幂等使broker确保同样消息只落地一次，消费端不保证。 RabbitMQ：最少一次，最多一次。   一条消息被多个消费者消费  Kafka：多个consumer group消费同一个partition。Consumer Group中的consumer是竞争关系。 RocketMQ：多个consumer group消费同一queue。Consumer Group中的consumer是竞争关系。 RabbitMQ：每个消费者一个Queue，通过Exchange将一条消息投递到多个Queue中。消费时不指定队列，而是指定Exchange。   消息激增扩容  Kafka：增加partition数量和consumer数量。旧partition里的消息不会重新分配，新partition只会新消息有用。   消息何时被删除  Kafka：基于过期时间删除消息，没有过期时无论是否被消费都会被保存。 RocketMQ:不会被立即删除。   消息失败重试  Kafka：不支持重试 RocketMQ：支持定时重试   消息顺序  Kafka：partition有序，但Broker宕机后就会产生乱序。 RocketMQ：queue有序，支持严格顺序，一台Broker宕机后发送消息会失败，但不会乱序。   消息回溯  Kafka：按Offset回溯。 RocketMQ：按时间回溯（精确到毫秒）   事务支持  Kafka：支持。提交事务时失败则抛出异常。 RocketMQ：支持。提交事务时失败后，中间件可通过反查接口查询事务状态。 RabbitMQ：支持。   Topic和队列设置数量  Kafka：分区数量=Topic的吞吐量/Consumer的吞吐量。单机上一个partition一个目录，由多个segement文件组成。读写消息就是从某一个offset开始顺序读写。当partition数量过多时Load就会更高，写入消息的响应时间就会变慢。 RocketMQ：一个应用一个Topic，支持通过Tags在broker端实现消息过滤以区分不同功能。单机上每个队列一个文件，不会因队列增大Load发生明显变化。 RabbitMQ：由Exchange决定消息如何被投递。   水平扩展  RabbitMQ：routeingkey作为分片键绑定不同queue。    最佳实践 #    通用方案">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="消息中间件" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://example.org/docs/poet/mq/" />

<title>消息中间件 | 编程之诗</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css" integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.8a55d5d9141238c9e2edb39b1b570a9123c99ae6d8dea771e1b67e2a27c9c36a.js" integrity="sha256-ilXV2RQSOMni7bObG1cKkSPJmubY3qdx4bZ&#43;KifJw2o=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="http://example.org/docs/poet/mq/index.xml" title="编程之诗" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo.jpeg" alt="Logo" /><span>编程之诗</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/poet/" class="">服务端技术</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3dc0bcdeacac2d09e305588c01af0eb9" class="toggle"  />
    <label for="section-3dc0bcdeacac2d09e305588c01af0eb9" class="flex justify-between">
      <a href="/docs/poet/loadbalance/" class="">负载均衡与反向代理</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/loadbalance/nginx/" class="">Nginx</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a4c0e00f472ffb291f5ccb931cf17910" class="toggle"  />
    <label for="section-a4c0e00f472ffb291f5ccb931cf17910" class="flex justify-between">
      <a href="/docs/poet/server/" class="">Web服务器</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/server/tomcat/" class="">Tomcat</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6a989a0f7154c0e30fc000173d18d159" class="toggle"  />
    <label for="section-6a989a0f7154c0e30fc000173d18d159" class="flex justify-between">
      <a href="/docs/poet/config/" class="">配置管理</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/config/apollo/" class="">Apollo</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0d7503870886eef7e4a90589c51e6702" class="toggle"  />
    <label for="section-0d7503870886eef7e4a90589c51e6702" class="flex justify-between">
      <a href="/docs/poet/discovery/" class="">服务发现</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/discovery/eureka/" class="">Eureka</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ea19dd2dad634391640e3eabea4a79a7" class="toggle"  />
    <label for="section-ea19dd2dad634391640e3eabea4a79a7" class="flex justify-between">
      <a href="/docs/poet/gateway/" class="">网关</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/gateway/spring-cloud-gateway/" class="">Spring Cloud Gateway</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-267bf1dbb24070fe23f16066764ac3e6" class="toggle"  />
    <label for="section-267bf1dbb24070fe23f16066764ac3e6" class="flex justify-between">
      <a href="/docs/poet/tolerance/" class="">服务容错</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/tolerance/hystrix/" class="">Hystrix</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/tolerance/sentinel/" class="">Sentinel</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1566bed1759084fe25fbedde211ab5f4" class="toggle"  />
    <label for="section-1566bed1759084fe25fbedde211ab5f4" class="flex justify-between">
      <a href="/docs/poet/server_framework/" class="">服务框架</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/server_framework/dubbo/" class="">Dubbo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/server_framework/springboot/" class="">SpringBoot</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/server_framework/async/" class="">异步编程</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/server_framework/async/vertx/" class="">Vert.x</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/server_framework/async/future/" class="">CompletableFuture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/server_framework/async/rxjava/" class="">RxJava</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-10b9a0cd112515f14ad77b17e9cd35d6" class="toggle"  />
    <label for="section-10b9a0cd112515f14ad77b17e9cd35d6" class="flex justify-between">
      <a href="/docs/poet/job/" class="">任务调度</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/job/xxljob/" class="">XXL-Job</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c668b765ae16f6575e8402e851bad064" class="toggle"  />
    <label for="section-c668b765ae16f6575e8402e851bad064" class="flex justify-between">
      <a role="button" class="">数据库</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/sql/" class="">关系型数据库</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/sql/mysql/" class="">MySQL</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/docsql/" class="">文档型数据库</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/docsql/mongodb/" class="">MongoDB</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/colsql/" class="">列式数据库</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/colsql/cassandra/" class="">Cassandra</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/fullsql/" class="">全文数据库</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/fullsql/es/" class="">ElastisSearch</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/cache/" class="">缓存</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/cache/redis/" class="">Redis</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/appcache/" class="">应用内缓存</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/db/dbproxy/" class="">数据库中间件</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4194a62f2f6ac00c0aad913c39e3bd62" class="toggle" checked />
    <label for="section-4194a62f2f6ac00c0aad913c39e3bd62" class="flex justify-between">
      <a href="/docs/poet/mq/" class="active">消息中间件</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/mq/kafka/" class="">Kafka</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d6892adfc8e66be03d32b33aaec13217" class="toggle"  />
    <label for="section-d6892adfc8e66be03d32b33aaec13217" class="flex justify-between">
      <a href="/docs/poet/bigdata/" class="">大数据</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6603b0b9c0113595b4be27635898f9b2" class="toggle"  />
    <label for="section-6603b0b9c0113595b4be27635898f9b2" class="flex justify-between">
      <a href="/docs/poet/test/" class="">测试与性能分析</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/test/benchmark/" class="">压力测试</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/test/jmh/" class="">基准测试</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/test/cpu/" class="">CPU和线程的性能分析</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/test/memory/" class="">内存和硬盘的性能分析</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/test/jvm/" class="">JVM的性能分析</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f257b7f175f4a36b9a290ec1d949339d" class="toggle"  />
    <label for="section-f257b7f175f4a36b9a290ec1d949339d" class="flex justify-between">
      <a href="/docs/poet/devops/" class="">Devops</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/devops/linux/" class="">Linux</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/devops/code/" class="">代码管理</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/poet/devops/log/" class="">日志管理</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>消息中间件</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#消息队列中间件的对比">消息队列中间件的对比</a></li>
    <li><a href="#最佳实践">最佳实践</a></li>
    <li><a href="#基础知识">基础知识</a>
      <ul>
        <li><a href="#1消费模型">1、消费模型</a></li>
        <li><a href="#2分区模型">2、分区模型</a></li>
      </ul>
    </li>
    <li><a href="#rabbitmq">RabbitMQ</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="消息中间件">
  消息中间件
  <a class="anchor" href="#%e6%b6%88%e6%81%af%e4%b8%ad%e9%97%b4%e4%bb%b6">#</a>
</h1>
<h2 id="消息队列中间件的对比">
  消息队列中间件的对比
  <a class="anchor" href="#%e6%b6%88%e6%81%af%e9%98%9f%e5%88%97%e4%b8%ad%e9%97%b4%e4%bb%b6%e7%9a%84%e5%af%b9%e6%af%94">#</a>
</h2>
<ul>
<li>性能
<ul>
<li>Kafka：几十万级别。通过批量和异步获得高吞吐量，时延也较高。如果每秒数据量没那么多情况下时延会很高，不太适合在线业务场景。在大数据和流计算方面生态优秀。允许n-1个节点失败。</li>
<li>RocketMQ：几十万级别。时延低。</li>
<li>RabbitMQ：十万级别。消息堆积会引起性能下降。</li>
</ul>
</li>
<li>基本架构
<ul>
<li>Kafka：Producer、Consumer、Consumer Group、Broker、一个Topic多个Partition</li>
<li>RocketMQ：Producer、Consumer、Consumer Group、一个Topic多个Queue</li>
<li>RabbitMQ：Exchange、Channel、Producer、Consumer、Queue</li>
</ul>
</li>
<li>推拉模式
<ul>
<li>Kafka：基于长轮询的拉模式。</li>
<li>RocketMQ：支持推拉，但拉模式也是基于长轮询。</li>
<li>RabbitMQ：支持推拉模式。</li>
</ul>
</li>
<li>消费者数量
<ul>
<li>Kafka：线程数量和partition数量保持一致，一个partition只能被同组的一个消费者消费。</li>
<li>RocketMQ：同Kafka。</li>
</ul>
</li>
<li>消费语义
<ul>
<li>Kafka：最多一次，最少一次（推荐），正好一次。正好一次是通过transaction幂等使broker确保同样消息只落地一次，消费端不保证。</li>
<li>RabbitMQ：最少一次，最多一次。</li>
</ul>
</li>
<li>一条消息被多个消费者消费
<ul>
<li>Kafka：多个consumer group消费同一个partition。Consumer Group中的consumer是竞争关系。</li>
<li>RocketMQ：多个consumer group消费同一queue。Consumer Group中的consumer是竞争关系。</li>
<li>RabbitMQ：每个消费者一个Queue，通过Exchange将一条消息投递到多个Queue中。消费时不指定队列，而是指定Exchange。</li>
</ul>
</li>
<li>消息激增扩容
<ul>
<li>Kafka：增加partition数量和consumer数量。旧partition里的消息不会重新分配，新partition只会新消息有用。</li>
</ul>
</li>
<li>消息何时被删除
<ul>
<li>Kafka：基于过期时间删除消息，没有过期时无论是否被消费都会被保存。</li>
<li>RocketMQ:不会被立即删除。</li>
</ul>
</li>
<li>消息失败重试
<ul>
<li>Kafka：不支持重试</li>
<li>RocketMQ：支持定时重试</li>
</ul>
</li>
<li>消息顺序
<ul>
<li>Kafka：partition有序，但Broker宕机后就会产生乱序。</li>
<li>RocketMQ：queue有序，支持严格顺序，一台Broker宕机后发送消息会失败，但不会乱序。</li>
</ul>
</li>
<li>消息回溯
<ul>
<li>Kafka：按Offset回溯。</li>
<li>RocketMQ：按时间回溯（精确到毫秒）</li>
</ul>
</li>
<li>事务支持
<ul>
<li>Kafka：支持。提交事务时失败则抛出异常。</li>
<li>RocketMQ：支持。提交事务时失败后，中间件可通过反查接口查询事务状态。</li>
<li>RabbitMQ：支持。</li>
</ul>
</li>
<li>Topic和队列设置数量
<ul>
<li>Kafka：分区数量=Topic的吞吐量/Consumer的吞吐量。单机上一个partition一个目录，由多个segement文件组成。读写消息就是从某一个offset开始顺序读写。当partition数量过多时Load就会更高，写入消息的响应时间就会变慢。</li>
<li>RocketMQ：一个应用一个Topic，支持通过Tags在broker端实现消息过滤以区分不同功能。单机上每个队列一个文件，不会因队列增大Load发生明显变化。</li>
<li>RabbitMQ：由Exchange决定消息如何被投递。</li>
</ul>
</li>
<li>水平扩展
<ul>
<li>RabbitMQ：routeingkey作为分片键绑定不同queue。</li>
</ul>
</li>
</ul>
<h2 id="最佳实践">
  最佳实践
  <a class="anchor" href="#%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5">#</a>
</h2>
<ul>
<li>
<p>通用方案</p>
<ul>
<li>数据同步服务：消息实时推，然后通过定时拉取进行兜底，防止中间件宕机。</li>
</ul>
</li>
<li>
<p>如何分配主题</p>
<ul>
<li>有顺序要求的事件应放在同一主题且分区键相同</li>
<li>系统中一个实体另一个实体或两个实体常放在一起使用也应该放在同一主题</li>
<li>消费者常常订阅一组特定的主题时应该将这些主题合并</li>
</ul>
</li>
<li>
<p>Kafka</p>
<ul>
<li>broker.id设为IP最后一位</li>
<li>log.dirs所有broker设为一样</li>
<li>num.partions将partions的备份个数默认设为1</li>
<li>历史消息保留不超过1个月</li>
<li>分区数和节点数相近，replica为3</li>
<li>队列按<code>系统名_业务名_操作名</code>命名</li>
<li>group.id单机部署采用应用名，集群部署采用应用名+编号，不同应用消费同一topic则设为topic名</li>
<li>offset不自动提交，由Kafka管理offset</li>
</ul>
</li>
<li>
<p>RocketMQ</p>
<ul>
<li>同步刷盘：flushDiskType=SYNC_FLUSH</li>
<li>可靠性投递至少发送到2个以上节点</li>
<li>通过tag在broker端实现消息过滤</li>
</ul>
</li>
</ul>
<h2 id="基础知识">
  基础知识
  <a class="anchor" href="#%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86">#</a>
</h2>
<h3 id="1消费模型">
  1、消费模型
  <a class="anchor" href="#1%e6%b6%88%e8%b4%b9%e6%a8%a1%e5%9e%8b">#</a>
</h3>
<ul>
<li>队列模型：同一队列上的消费者处于竞争状态。一条消息只能被一个消费者消费。RabbitMQ采用该模型。</li>
<li>发布-订阅模型：基于主题订阅，一条消息可以被多个消费者消费。大部分消息中间件采用该模型。</li>
</ul>
<h3 id="2分区模型">
  2、分区模型
  <a class="anchor" href="#2%e5%88%86%e5%8c%ba%e6%a8%a1%e5%9e%8b">#</a>
</h3>
<p>Kafka的partition或RocketMQ的Queue主要为了提高吞吐量实现并行消费，进行水平扩展。此外也可以解决手动提交时因为前面的消息没有被消费后面的消息一直都不能被消费的情况。</p>
<h2 id="rabbitmq">
  RabbitMQ
  <a class="anchor" href="#rabbitmq">#</a>
</h2>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#消息队列中间件的对比">消息队列中间件的对比</a></li>
    <li><a href="#最佳实践">最佳实践</a></li>
    <li><a href="#基础知识">基础知识</a>
      <ul>
        <li><a href="#1消费模型">1、消费模型</a></li>
        <li><a href="#2分区模型">2、分区模型</a></li>
      </ul>
    </li>
    <li><a href="#rabbitmq">RabbitMQ</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












