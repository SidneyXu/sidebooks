---
weight: 3
title: 购物车系统
---

# 购物车系统

## 业务流程

- 页面路径：购物车->下单页面（结算页面）->支付页面
- 主要功能：把商品加入购物车（加购）、购物车列表页、发起结算下单。
- 主要属性：SKU_ID、数量、加购时间和勾选状态。商品价格和总价、商品介绍等信息都可以实时从其他系统中获取，不需要保存到购物车。
- 两种购物车：暂存购物车（未登录）、用户购物车（已登录）
   1. 如果未登录，需要使用暂存购物车保存商品；
   2. 用户登录时，把暂存购物车的商品合并到用户购物车中，并且清除暂存购物车；
   3. 用户登录后，购物车中的商品，需要进行多端同步。

## 加购流程

1. 前端传递SKU_ID和购买数量给后台系统。
2. 购物车处理。
   1. 用户未登录，将当前商品添加到暂存购物车中，写入Cookie或LocalStorage。
   2. 用户已登录，调用接口将暂存购物车中的商品添加到用户购物车中，清空暂存购物车。
